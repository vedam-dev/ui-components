"use strict";(self.webpackChunk_vedam_dev_ui_components=self.webpackChunk_vedam_dev_ui_components||[]).push([[359],{"./src/stories/organism/surveyOptions/SurveyOptions.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ControlledExample:()=>ControlledExample,Default:()=>Default,WithGlobalOther:()=>WithGlobalOther,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SurveyOptions_stories});var react=__webpack_require__("./node_modules/react/index.js"),Box=__webpack_require__("./node_modules/@mui/material/esm/Box/Box.js"),Typography=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),TextField=__webpack_require__("./node_modules/@mui/material/esm/TextField/TextField.js"),createSvgIcon=__webpack_require__("./node_modules/@mui/material/esm/utils/createSvgIcon.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const RadioButtonUnchecked=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),RadioButtonChecked=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonChecked");var core_theme=__webpack_require__("./src/theme/core-theme.tsx");const OptionRow=_ref=>{let{option,selected,onSelect}=_ref;const theme=(0,core_theme.M9)();return(0,jsx_runtime.jsxs)(Box.A,{role:"radio","aria-checked":selected,tabIndex:0,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),onSelect())},onClick:onSelect,sx:{display:"flex",alignItems:"center",gap:theme.spacing(1.5),px:theme.spacing(6.5),py:theme.spacing(4),borderRadius:theme.shape.borderRadius,border:t=>selected?"2px solid #8A18FF":"1px solid #CDCDCD",backgroundColor:t=>selected?t.palette.action.hover:"white",cursor:"pointer"},children:[(0,jsx_runtime.jsx)(Box.A,{sx:{display:"flex",alignItems:"center",minWidth:theme.spacing(3.5)},children:selected?(0,jsx_runtime.jsx)(RadioButtonChecked,{sx:{color:"#8A18FF",fontSize:20,width:"18px",height:"18px"},"aria-hidden":!0}):(0,jsx_runtime.jsx)(RadioButtonUnchecked,{sx:{color:"#8A18FF",width:"18px",height:"18px"},"aria-hidden":!0})}),(0,jsx_runtime.jsxs)(Box.A,{sx:{flex:1},children:[(0,jsx_runtime.jsx)(Typography.A,{sx:{fontWeight:400,fontFamily:"inter",fontSize:"20px"},children:option.label}),option.subtitle&&(0,jsx_runtime.jsx)(Typography.A,{variant:"body2",sx:{color:"text.secondary",mt:theme.spacing(.5)},children:option.subtitle})]})]})},SurveyOptions_stories={title:"Organism/SurveyOptions",component:_ref2=>{let{options,question,value,textValue,onChange,textMaxLength=80,textPlaceholder="Other",name="survey-options",sx={},showGlobalOther=!1}=_ref2;const theme=(0,core_theme.M9)(),[internalSelected,setInternalSelected]=(0,react.useState)(null!=value?value:null),[internalText,setInternalText]=(0,react.useState)(null!=textValue?textValue:"");(0,react.useEffect)(()=>{void 0!==value&&setInternalSelected(value)},[value]),(0,react.useEffect)(()=>{void 0!==textValue&&setInternalText(textValue)},[textValue]);const selectedId=void 0!==value?value:internalSelected,text=void 0!==textValue?textValue:internalText,onTextChange=((0,react.useMemo)(()=>options.find(o=>o.id===selectedId&&o.allowText),[options,selectedId]),next=>{const truncated=next.slice(0,textMaxLength);void 0===textValue&&setInternalText(truncated),null==onChange||onChange(selectedId,truncated)});return(0,jsx_runtime.jsxs)(Box.A,{sx:{width:"100%",...sx||{}},role:"radiogroup","aria-label":name,children:[question&&(0,jsx_runtime.jsx)(Typography.A,{sx:{mb:theme.spacing(2),color:"#1E1E1E",fontFamily:"Outfit",fontSize:"22px",fontStyle:"normal",fontWeight:400},children:question}),(0,jsx_runtime.jsx)(Box.A,{sx:{display:"flex",flexDirection:"column",gap:theme.spacing(6)},children:options.map(opt=>{const isSelected=selectedId===opt.id;return(0,jsx_runtime.jsxs)(Box.A,{children:[(0,jsx_runtime.jsx)(OptionRow,{option:opt,selected:isSelected,onSelect:()=>(id=>{const newlySelectedOpt=options.find(o=>o.id===id),newlyAllowsText=!(null==newlySelectedOpt||!newlySelectedOpt.allowText);void 0===value&&setInternalSelected(id),void 0===textValue&&(newlyAllowsText||showGlobalOther||setInternalText("")),null==onChange||onChange(id,newlyAllowsText?text:void 0)})(opt.id)}),opt.allowText&&isSelected&&!showGlobalOther&&(0,jsx_runtime.jsxs)(Box.A,{sx:{mt:theme.spacing(6),px:theme.spacing(1)},children:[(0,jsx_runtime.jsx)(TextField.A,{placeholder:textPlaceholder,value:null!=text?text:"",onChange:e=>onTextChange(e.target.value),multiline:!0,fullWidth:!0,minRows:3,inputProps:{maxLength:textMaxLength},sx:{borderRadius:theme.shape.borderRadius}}),(0,jsx_runtime.jsxs)(Typography.A,{variant:"caption",sx:{display:"block",textAlign:"right",color:"text.secondary",mt:theme.spacing(.5)},children:[String((null!=text?text:"").length),"/",textMaxLength]})]})]},opt.id)})}),showGlobalOther&&(0,jsx_runtime.jsx)(Box.A,{sx:{mt:theme.spacing(6)},children:(0,jsx_runtime.jsx)(TextField.A,{variant:"outlined",placeholder:textPlaceholder,value:null!=text?text:"",onChange:e=>onTextChange(e.target.value),multiline:!0,fullWidth:!0,minRows:3,inputProps:{maxLength:textMaxLength},helperText:null,sx:theme=>({"& .MuiOutlinedInput-root":{borderRadius:theme.shape.borderRadius,bgcolor:"white","& fieldset":{borderRadius:theme.shape.borderRadius}}}),"aria-label":"Other"})})]})},tags:["autodocs"],argTypes:{question:{control:"text",description:"Optional question/title shown above the options"},options:{table:{disable:!0}},value:{control:"text",description:"Controlled selected option id"},textValue:{control:"text",description:"Controlled text for the textarea"},textPlaceholder:{control:"text",description:"Placeholder for the text input"},textMaxLength:{control:"number",defaultValue:80,description:"Max characters for textbox"},showGlobalOther:{control:"boolean",description:"Always show bottom 'Other' textarea"},onChange:{action:"changed"},sx:{table:{disable:!0}}}},defaultOptions=[{id:"clarity",label:"Content Clarity"},{id:"teaching",label:"Teaching Method"},{id:"topic",label:"Topic of Discussion"},{id:"resources",label:"Resources Shared"},{id:"other",label:"Other",allowText:!0}],Default={args:{question:"What did you like about this lecture?",options:defaultOptions,textMaxLength:80,textPlaceholder:"Other",showGlobalOther:!1}},WithGlobalOther={args:{question:"What did you like about this lecture?",options:defaultOptions,textMaxLength:120,textPlaceholder:"Other",showGlobalOther:!0}},ControlledExample={args:{question:"What did you like about this lecture?",options:defaultOptions,value:"topic",textValue:"I liked the specific topic about optimization",textMaxLength:120,textPlaceholder:"Other",showGlobalOther:!1}},__namedExportsOrder=["Default","WithGlobalOther","ControlledExample"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    question: "What did you like about this lecture?",\n    options: defaultOptions,\n    textMaxLength: 80,\n    textPlaceholder: "Other",\n    showGlobalOther: false\n  }\n}',...Default.parameters?.docs?.source}}},WithGlobalOther.parameters={...WithGlobalOther.parameters,docs:{...WithGlobalOther.parameters?.docs,source:{originalSource:'{\n  args: {\n    question: "What did you like about this lecture?",\n    options: defaultOptions,\n    textMaxLength: 120,\n    textPlaceholder: "Other",\n    showGlobalOther: true\n  }\n}',...WithGlobalOther.parameters?.docs?.source}}},ControlledExample.parameters={...ControlledExample.parameters,docs:{...ControlledExample.parameters?.docs,source:{originalSource:'{\n  args: {\n    question: "What did you like about this lecture?",\n    options: defaultOptions,\n    value: "topic",\n    textValue: "I liked the specific topic about optimization",\n    textMaxLength: 120,\n    textPlaceholder: "Other",\n    showGlobalOther: false\n  }\n}',...ControlledExample.parameters?.docs?.source}}}}}]);